{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL='https://growlify-backend.onrender.com/api';function SignupLogin(_ref){let{defaultTab=\"signup\"}=_ref;const navigate=useNavigate();const[isLoginView,setIsLoginView]=useState(defaultTab===\"login\");const[showForgotPasswordForm,setShowForgotPasswordForm]=useState(false);const[showResetPasswordForm,setShowResetPasswordForm]=useState(false);const[resetEmail,setResetEmail]=useState('');const[form,setForm]=useState({name:'',email:'',password:'',confirmPassword:'',pincode:'',country:'',state:'',district:'',otp:''});const[dropdowns,setDropdowns]=useState({countries:[],states:[],districts:[]});const[showSignupOTPPage,setShowSignupOTPPage]=useState(false);const[message,setMessage]=useState('');const[resendCooldown,setResendCooldown]=useState(0);const[weatherData,setWeatherData]=useState(null);const[userCity,setUserCity]=useState('');useEffect(()=>{const storedUser=JSON.parse(localStorage.getItem('currentUser'));const city=(storedUser===null||storedUser===void 0?void 0:storedUser.city)||localStorage.getItem('signupCity');if(city){setUserCity(city);const fetchWeather=async()=>{try{const apiKey=process.env.WEATHER_API_KEY;const response=await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`);const{temp}=response.data.main;const description=response.data.weather[0].description;setWeatherData({temp,description});}catch(err){setWeatherData({temp:'N/A',description:'Could not fetch weather'});}};fetchWeather();}},[]);useEffect(()=>{if(resendCooldown>0){const timer=setInterval(()=>{setResendCooldown(prev=>prev-1);},1000);return()=>clearInterval(timer);}},[resendCooldown]);const handleChange=e=>{setMessage('');setForm({...form,[e.target.name]:e.target.value});};const handleResetEmailChange=e=>{setMessage('');setResetEmail(e.target.value);};const handlePincode=async()=>{if(form.pincode.length!==6){setDropdowns({countries:[],states:[],districts:[]});return;}try{const{data}=await axios.get(`https://api.postalpincode.in/pincode/${form.pincode}`);const apiResponse=data[0];if(apiResponse.Status==='Success'){const postOffice=apiResponse.PostOffice[0];const uniqueDistricts=[...new Set(apiResponse.PostOffice.map(p=>p.District))];setForm(prev=>({...prev,country:postOffice.Country,state:postOffice.State,district:postOffice.District}));setDropdowns({countries:[postOffice.Country],states:[postOffice.State],districts:uniqueDistricts});}else{setMessage('Invalid PIN Code');setDropdowns({countries:[],states:[],districts:[]});}}catch(err){setMessage('Error fetching location details. Please check the PIN code.');}};// --- START OF MODIFIED sendSignupOTP FUNCTION ---\nconst sendSignupOTP=async()=>{if(!form.email){setMessage('Please enter your email address first.');return false;// Indicate failure\n}try{setMessage('Sending OTP for signup...');const{data}=await axios.post(`${API_BASE_URL}/send-otp`,{email:form.email});setMessage(data.message);setResendCooldown(30);return true;// Indicate success\n}catch(err){var _err$response,_err$response$data;const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to send OTP. Please try again later.';setMessage(errorMsg);return false;// Indicate failure\n}};// --- END OF MODIFIED sendSignupOTP FUNCTION ---\nconst sendResetOTP=async()=>{if(!resetEmail){setMessage('Please enter your email address for password reset.');return;}try{setMessage('Sending password reset OTP...');const{data}=await axios.post(`${API_BASE_URL}/send-reset-otp`,{email:resetEmail});setMessage(data.message);setResendCooldown(30);setShowResetPasswordForm(true);setShowForgotPasswordForm(false);}catch(err){var _err$response2,_err$response2$data;setMessage(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Failed to send reset OTP. Please try again later.');}};const handleSignup=async()=>{if(form.password!==form.confirmPassword){setMessage(\"Passwords do not match.\");return;}if(!form.name||!form.email||!form.password||!form.confirmPassword||!form.pincode||!form.district||!form.state||!form.country||!form.otp){setMessage('Please fill all fields and enter the OTP.');return;}try{setMessage('Registering account...');const{data}=await axios.post(`${API_BASE_URL}/signup`,{name:form.name,email:form.email,password:form.password,confirmPassword:form.confirmPassword,city:form.district,state:form.state,pincode:form.pincode,otp:form.otp});setMessage(data.message||\"Signup successful!\");const registeredEmail=form.email;localStorage.setItem('signupCity',form.district);resetFormStates();setIsLoginView(true);setForm(prev=>({...prev,email:registeredEmail}));setMessage(\"âœ… Signup successful! Please log in to continue.\");// FIX 1 applied here\n}catch(err){var _err$response3,_err$response3$data;setMessage(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||\"An unexpected error occurred during signup.\");}};const handleLogin=async()=>{if(!form.email||!form.password){setMessage(\"Please enter both email and password.\");return;}try{setMessage('Logging in...');const{data}=await axios.post(`${API_BASE_URL}/login`,{email:form.email,password:form.password});setMessage(data.message+\" Redirecting to dashboard...\");localStorage.setItem('token',data.token);localStorage.setItem('currentUser',JSON.stringify(data.user));navigate('/');// FIX 2: Standard react-router-dom navigation.\n// If you are using a custom navigation function like 'onNavigate',\n// replace 'navigate('/home')' with 'onNavigate('home')'.\n}catch(err){var _err$response4,_err$response4$data;setMessage(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||\"Login failed. Please check your email and password.\");}};const handleResetPassword=async()=>{if(form.password!==form.confirmPassword){setMessage(\"New passwords do not match.\");return;}if(!form.otp||!form.password||!form.confirmPassword){setMessage(\"Please enter OTP and your new password.\");return;}try{setMessage('Resetting password...');const{data}=await axios.post(`${API_BASE_URL}/reset-password`,{email:resetEmail,otp:form.otp,newPassword:form.password});setMessage(data.message+\" Your password has been reset. You can now log in.\");setShowResetPasswordForm(false);setIsLoginView(true);setForm({name:'',email:'',password:'',confirmPassword:'',pincode:'',country:'',state:'',district:'',otp:''});setResetEmail('');}catch(err){var _err$response5,_err$response5$data;setMessage(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.message)||\"Failed to reset password. Please try again.\");}};const resetFormStates=()=>{setForm({name:'',email:'',password:'',confirmPassword:'',pincode:'',country:'',state:'',district:'',otp:''});setDropdowns({countries:[],states:[],districts:[]});setShowSignupOTPPage(false);setShowForgotPasswordForm(false);setShowResetPasswordForm(false);setResetEmail('');setResendCooldown(0);};const renderCurrentForm=()=>{if(showForgotPasswordForm)return renderForgotPasswordForm();if(showResetPasswordForm)return renderResetPasswordForm();return isLoginView?renderLoginForm():renderSignupForm();};const renderLoginForm=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-content\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"form-title\",children:\"Welcome Back!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"form-subtitle\",children:\"Log in to access your garden dashboard.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",placeholder:\"you@example.com\",className:\"form-input\",onChange:handleChange,value:form.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"form-input\",onChange:handleChange,value:form.password})]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",onClick:handleLogin,children:\"Log In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"form-link\",onClick:e=>{e.preventDefault();setShowForgotPasswordForm(true);setIsLoginView(false);setMessage('');setForm(prev=>({...prev,email:'',password:''}));},children:\"Forgot Password?\"})})]});const renderSignupForm=()=>/*#__PURE__*/_jsx(_Fragment,{children:showSignupOTPPage?renderSignupOTPForm():/*#__PURE__*/_jsxs(\"div\",{className:\"form-content\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"form-title\",children:\"Create an Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"form-subtitle\",children:\"Join Growlify AI to start your smart garden.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",placeholder:\"Enter your full name\",className:\"form-input\",onChange:handleChange,value:form.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",placeholder:\"you@example.com\",className:\"form-input\",onChange:handleChange,value:form.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"form-input\",onChange:handleChange,value:form.password}),form.password&&(()=>{const{label,color}=getPasswordStrength(form.password);return/*#__PURE__*/_jsxs(\"div\",{style:{color,fontSize:'0.85rem',marginTop:'0.25rem',textAlign:'left'},children:[\"Password strength: \",/*#__PURE__*/_jsx(\"strong\",{children:label})]});})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"confirmPassword\",type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"form-input\",onChange:handleChange,value:form.confirmPassword})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"PIN Code\"}),/*#__PURE__*/_jsx(\"input\",{name:\"pincode\",placeholder:\"6-digit PIN\",className:\"form-input\",onChange:handleChange,onBlur:handlePincode,maxLength:\"6\",value:form.pincode})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"District\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"district\",className:\"form-input\",value:form.district,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select District\"}),dropdowns.districts.map(d=>/*#__PURE__*/_jsx(\"option\",{value:d,children:d},d))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"State\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"state\",className:\"form-input\",value:form.state,onChange:handleChange,disabled:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select State\"}),dropdowns.states.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Country\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"country\",className:\"form-input\",value:form.country,onChange:handleChange,disabled:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Country\"}),dropdowns.countries.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c,children:c},c))]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",onClick:async()=>{// Made async to await sendSignupOTP\nif(form.name&&form.email&&form.password&&form.confirmPassword&&form.pincode&&form.district&&form.password===form.confirmPassword){const success=await sendSignupOTP();// Await OTP send result\nif(success){setShowSignupOTPPage(true);// Only proceed if OTP sent successfully\n}}else{setMessage('Please fill all required fields and ensure passwords match before proceeding.');}},children:\"Proceed to Verification\"})]})});const renderSignupOTPForm=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-content\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"form-title\",children:\"Email Verification\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"form-subtitle\",children:[\"Enter the 6-digit OTP sent to \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{className:\"form-strong\",children:form.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Enter OTP\"}),/*#__PURE__*/_jsx(\"input\",{name:\"otp\",placeholder:\"\\u2022 \\u2022 \\u2022 \\u2022 \\u2022 \\u2022\",className:\"form-input otp-input\",onChange:handleChange,maxLength:\"6\",value:form.otp})]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",onClick:handleSignup,children:\"Verify & Create Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-footer-multi\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"form-link\",disabled:resendCooldown>0,onClick:sendSignupOTP,children:resendCooldown>0?`Resend OTP in ${resendCooldown}s`:'Resend OTP'}),/*#__PURE__*/_jsx(\"button\",{className:\"form-link-secondary\",onClick:()=>setShowSignupOTPPage(false),children:\"Back to Signup\"})]})]});const renderForgotPasswordForm=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-content\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"form-title\",children:\"Forgot Password?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"form-subtitle\",children:\"Enter your email to receive a password reset OTP.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"resetEmail\",type:\"email\",placeholder:\"you@example.com\",className:\"form-input\",onChange:handleResetEmailChange,value:resetEmail})]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",onClick:sendResetOTP,children:\"Send Reset OTP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"form-link-secondary\",onClick:()=>{setShowForgotPasswordForm(false);setIsLoginView(true);setMessage('');setResetEmail('');},children:\"Back to Login\"})})]});const renderResetPasswordForm=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-content\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"form-title\",children:\"Reset Your Password\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"form-subtitle\",children:[\"Enter the OTP sent to \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{className:\"form-strong\",children:resetEmail}),\" and your new password.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Enter OTP\"}),/*#__PURE__*/_jsx(\"input\",{name:\"otp\",placeholder:\"\\u2022 \\u2022 \\u2022 \\u2022 \\u2022 \\u2022\",className:\"form-input otp-input\",onChange:handleChange,maxLength:\"6\",value:form.otp})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"form-input\",onChange:handleChange,value:form.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"confirmPassword\",type:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"form-input\",onChange:handleChange,value:form.confirmPassword})]}),/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",onClick:handleResetPassword,children:\"Reset Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-footer-multi\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"form-link\",disabled:resendCooldown>0,onClick:sendResetOTP,children:resendCooldown>0?`Resend OTP in ${resendCooldown}s`:'Resend OTP'}),/*#__PURE__*/_jsx(\"button\",{className:\"form-link-secondary\",onClick:()=>{setShowResetPasswordForm(false);setShowForgotPasswordForm(true);setForm(prev=>({...prev,otp:'',password:'',confirmPassword:''}));},children:\"Back\"})]})]});const getPasswordStrength=password=>{if(!password)return{label:'',color:''};const lengthOK=password.length>=8;const hasUpper=/[A-Z]/.test(password);const hasNumber=/\\d/.test(password);const hasSpecial=/[@$!%*?&]/.test(password);const passedChecks=[lengthOK,hasUpper,hasNumber,hasSpecial].filter(Boolean).length;if(passedChecks<=1)return{label:'Weak',color:'red'};if(passedChecks===2||passedChecks===3)return{label:'Fair',color:'orange'};if(passedChecks===4)return{label:'Strong',color:'green'};return{label:'',color:''};};return/*#__PURE__*/_jsxs(\"div\",{className:\"signup-login-container\",children:[/*#__PURE__*/_jsx(\"style\",{children:`\n                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n\n                :root {\n                    --bg-page: #F5F5DC; /* Changed page background to beige */\n                    --bg-card: #f7f7e3; /* Kept card background white */\n                    --bg-input: rgb(219,219,189);\n                    --brand-green: #3B873E;\n                    --brand-green-darker: #306C32;\n                    --text-dark: #3A3A3A;\n                    --text-light: #6B7280;\n                    --border-color: #E5E7EB;\n                    --radius: 0.75rem;\n                    --error-bg: #FEE2E2;\n                    --error-text: #B91C1C;\n                    --success-bg: #D1FAE5;\n                    --success-text: #065F46;\n                }\n\n                .signup-login-container {\n                    font-family: 'Inter', sans-serif;\n                    background-color: var(--bg-page);\n                    min-height: 100vh;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    padding: 1rem;\n                }\n                .card-wrapper {\n                    background-color: var(--bg-card);\n                    padding: 2.5rem;\n                    border-radius: 1.25rem;\n                    box-shadow: 0 4px 12px rgba(0,0,0,0.05);\n                    width: 100%;\n                    max-width: 32rem;\n                }\n                .tab-switcher {\n                    display: flex;\n                    border-bottom: 2px solid var(--border-color);\n                    margin-bottom: 2.5rem;\n                }\n                .tab-button {\n                    flex: 1;\n                    padding-bottom: 1rem;\n                    text-align: center;\n                    font-weight: 500;\n                    font-size: 1.125rem;\n                    color: var(--text-light);\n                    border-bottom: 3px solid transparent;\n                    cursor: pointer;\n                    transition: all 0.2s;\n                    background: none;\n                    border-top: none;\n                    border-left: none;\n                    border-right: none;\n                }\n                .tab-button.active {\n                    color: var(--brand-green);\n                    font-weight: 600;\n                    border-bottom-color: var(--brand-green);\n                }\n                .form-content {\n                    text-align: center;\n                }\n                .form-title {\n                    font-size: 1.75rem;\n                    font-weight: 700;\n                    color: var(--text-dark);\n                    margin-bottom: 0.5rem;\n                }\n                h5.form-title {\n                    font-size: 1.5rem;\n                }\n                .form-subtitle {\n                    color: var(--text-light);\n                    margin-bottom: 2rem;\n                    line-height: 1.5;\n                }\n                .form-group, .form-group-full {\n                    margin-bottom: 1.25rem;\n                    text-align: left;\n                }\n                .form-grid {\n                    display: grid;\n                    grid-template-columns: 1fr 1fr;\n                    gap: 1rem;\n                    text-align: left;\n                    margin-bottom: 1.25rem;\n                }\n                .form-label {\n                    display: block;\n                    margin-bottom: 0.5rem;\n                    font-size: 0.875rem;\n                    color: #444;\n                    font-weight: 500;\n                }\n                .form-input {\n                    width: 100%;\n                    padding: 0.75rem 1rem;\n                    background-color: var(--bg-input);\n                    border: 1px solid var(--bg-input);\n                    border-radius: var(--radius);\n                    color: var(--text-dark);\n                    transition: border-color 0.2s, box-shadow 0.2s;\n                    -webkit-appearance: none;\n                    appearance: none;\n                    font-size: 1rem;\n                    box-sizing: border-box;\n                }\n                .form-input::placeholder {\n                    color: #9CA3AF;\n                }\n                .form-input:focus {\n                    outline: none;\n                    border-color: var(--brand-green);\n                    box-shadow: 0 0 0 2px rgba(59, 135, 62, 0.2);\n                }\n                .form-input:disabled {\n                    background-color:rgb(219,219,189);\n                    cursor: not-allowed;\n                }\n                select.form-input {\n                    background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");\n                    background-position: right 0.5rem center;\n                    background-repeat: no-repeat;\n                    background-size: 1.5em 1.5em;\n                }\n                .otp-input {\n                    text-align: center;\n                    letter-spacing: 0.5em;\n                }\n                .form-button {\n                    width: 100%;\n                    background-color: var(--brand-green);\n                    color: white;\n                    padding: 0.875rem;\n                    border-radius: var(--radius);\n                    font-weight: 600;\n                    font-size: 1rem;\n                    margin-top: 1.5rem;\n                    transition: background-color 0.2s;\n                    border: none;\n                    cursor: pointer;\n                }\n                .form-button:hover {\n                    background-color: var(--brand-green-darker);\n                }\n                .form-footer {\n                    text-align: center;\n                    margin-top: 1rem;\n                }\n                .form-footer-multi {\n                    text-align: center;\n                    margin-top: 1rem;\n                    display: flex;\n                    justify-content: center;\n                    gap: 1.5rem;\n                }\n                .form-link, .form-link-secondary {\n                    color: var(--brand-green);\n                    font-weight: 500;\n                    font-size: 0.875rem;\n                    text-decoration: none;\n                    background: none;\n                    border: none;\n                    cursor: pointer;\n                    padding:0;\n                }\n                .form-link:hover, .form-link-secondary:hover {\n                    text-decoration: underline;\n                }\n                .form-link:disabled {\n                    opacity: 0.5;\n                    cursor: not-allowed;\n                }\n                .form-link-secondary {\n                    color: var(--text-light);\n                }\n                .form-strong {\n                    color: var(--text-dark);\n                    font-weight: 600;\n                }\n                .message-alert {\n                    padding: 1rem;\n                    border-radius: 0.5rem;\n                    margin-bottom: 1.5rem;\n                    text-align: center;\n                    font-weight: 500;\n                }\n\n                .message-alert.error {\n                    background-color: var(--error-bg);\n                    color: var(--error-text);\n                }\n\n                .message-alert.success {\n                    background-color: var(--success-bg);\n                    color: var(--success-text);\n                }\n                @media (max-width: 600px) {\n                    .card-wrapper {\n                        padding: 1.5rem;\n                    }\n                    .form-grid {\n                        grid-template-columns: 1fr;\n                    }\n                }\n            `}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-wrapper mt-4\",children:[userCity&&weatherData&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',padding:'0.75rem',backgroundColor:'#E6FFE6',borderRadius:'0.75rem',textAlign:'center',color:'#065F46',fontWeight:'500',fontSize:'0.95rem'},children:[\"\\uD83C\\uDF24\\uFE0F Weather in \",/*#__PURE__*/_jsx(\"b\",{children:userCity}),\": \",weatherData.temp,\"\\xB0C, \",weatherData.description]}),!showForgotPasswordForm&&!showResetPasswordForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-switcher\",children:[/*#__PURE__*/_jsx(\"button\",{className:`tab-button ${!isLoginView?'active':''}`,onClick:()=>{setIsLoginView(false);resetFormStates();},children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{className:`tab-button ${isLoginView?'active':''}`,onClick:()=>{setIsLoginView(true);resetFormStates();},children:\"Log In\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:`message-alert ${/(fail|invalid|error|already|not match|please|required|expired|incorrect|exist)/i.test(message)?'error':'success'}`,children:message}),renderCurrentForm()]})]});}export default SignupLogin;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}